"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const common_1 = require("../../../../specification/common");
const appProvider_1 = require("../../../common/appProvider");
const utils_1 = require("../utils");
const overviewPage_1 = require("../pages/overviewPage");
const appSettings_1 = require("./appSettings");
class V2OvpProvider extends appProvider_1.AppProvider {
    constructor(manifest, schemas) {
        const pages = {};
        const sapOvp = manifest['sap.ovp'];
        const appSettings = appSettings_1.getAppSettings(manifest['sap.app']);
        const jsonSchema = Object.keys(schemas).find((element) => element.includes(common_1.PageType.OverviewPage));
        const page = {
            pageType: common_1.PageType.OverviewPage,
            config: overviewPage_1.createOverviewPageConfig(manifest, schemas[jsonSchema]),
            entitySet: sapOvp.globalFilterEntitySet
        };
        const id = utils_1.generatePageId(common_1.FioriElementsVersion.v2, page.pageType, page.entitySet, page.navigationProperty);
        pages[id] = page;
        super(manifest, schemas, id, pages, common_1.FioriElementsVersion.v2, appSettings);
    }
    /**
     * Public method which receives application controllers content and handles it
     * There no to handle it for V2 applications
     * @param {Controllers} controllers Object which contains string content of controllers
     */
    handleControllers() {
        // There no need for V2 applications to handle controllers content right now
    }
}
exports.V2OvpProvider = V2OvpProvider;
//# sourceMappingURL=ovpProvider.js.map